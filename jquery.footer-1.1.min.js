(function(b){var a={absolute:{position:"absolute",bottom:0},relative:{position:"relative",bottom:"auto"}};var d={timeOut:200,zIndex:200};var c,k,f,e,j;function h(){if(k!==b(document).height()){g();k=b(document).height()}if(f!==j.height()){i();f=j.height()}setTimeout(function(){h()},d.timeOut)}function g(){if((b(document).height()-c)>b(window).height()){e.remove();j.css(a.relative)}else{if(!e.parent().size()){j.parent().append(e)}j.css(a.absolute)}}function i(){if(j.height()!==e.height()){e.height(j.height())}}b.fn.footer=function(l){d=b.extend(d,l);d.timeOut=d.timeOut<1?1:0;j=this;j.css("z-index",d.zIndex);k=b(document).height();f=j.height();c=b.browser.msie?4:0;e=b("<div></div>").css("height",j.height());g();h()}})(jQuery);